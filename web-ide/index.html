<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>WEB IDE Pro v2.0</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0b6b3a">
<link rel="manifest" href="/manifest.json">

<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
   navigator.serviceWorker.register("/sw.js");
  });
}

  document.documentElement.requestFullscreen();

</script>

<link rel="stylesheet" href="css/all.min.css">
<link rel="stylesheet" href="css/app.css">
<link rel="stylesheet" href="css/modal.css">

<script src="js/beautify.min.js"></script>
<script src="js/beautify-css.min.js"></script>
<script src="js/beautify-html.min.js"></script>

</head>
<body>

<!-- TEST AREA-->
<style id="css"></style>
<div id="test" style="display: none;"></div>


<div id="main" class="container">
  <!-- HEADER -->
  <header class="header">
    <div class="header-left">
      <div class="logo">
        <div class="logo-icon"><i class="fas fa-code"></i></div>
        <div>
          <div class="logo-text">WEB IDE Pro</div>
          <div class="logo-version">v2.0</div>
        </div>
      </div>
    </div>
    
    <div class="header-actions">
      <button class="btn btn-icon" id="themeToggle" title="Ganti tema">
        <i class="fas fa-moon"></i>
      </button>
    </div>
  </header>

  <!-- TAB NAVIGATION -->
  <nav class="tab-nav">
    <button class="tab active" data-tab="html">
      <i class="fab fa-html5"></i>
      HTML
      <span class="tab-badge">●</span>
    </button>
    <button class="tab" data-tab="css">
      <i class="fab fa-css3-alt"></i>
      CSS
      <span class="tab-badge">●</span>
    </button>
    <button class="tab" data-tab="js">
      <i class="fab fa-js-square"></i>
      JavaScript
      <span class="tab-badge">●</span>
    </button>
    <button class="tab" data-tab="inject">
      <i class="fab fa-js-square"></i>
      Inject
      <span class="tab-badge">●</span>
    </button>
  </nav>

  <!-- MAIN CONTENT -->
  <div class="main-content">
    <!-- EDITOR PANEL -->
    <div class="editor-panel">
      <div class="editor-header">
        <div class="editor-title">
          <i class="fas fa-file-code"></i>
          <span id="currentTabTitle">No File</span>
        </div>

<!-- Tambahkan ini di editor-header, setelah project-title -->
<button id="btnProjects" class="btn btn-icon" title="Project Manager">
    <i class="fas fa-folder"></i>
</button>
<button id="btnNewProject" class="btn btn-icon" title="Project Baru">
    <i class="fas fa-plus"></i>
</button>
<button id="btnSave" class="btn btn-icon" title="Simpan Project">
    <i class="fas fa-save"></i>
</button>


        <div class="editor-actions">
          <button class="btn btn-sm" id="btnFormat" title="Format kode (Ctrl+Shift+F)">
             <i class="fas fa-indent"></i>
          </button>
          <button class="btn btn-sm btn-primary" id="btnReload" title="Preview Fullscreen">
            <i class="fas fa-refresh"></i>
          </button>
          <button class="btn btn-sm btn-primary" id="btnFullscreenPreview" title="Preview Fullscreen">
            <i class="fas fa-expand"></i>
          </button>
        </div>
      </div>
      
      <div class="editor-container">
        <div class="line-numbers" id="lineNumbers">1</div>
        <div class="editor-wrapper">
          <textarea class="code-editor" id="codeEditor" spellcheck="false" placeholder="Tulis kode Anda di sini..."></textarea>
        </div>
      </div>
    </div>
  </div>

  <!-- TOOLBAR -->
  <div class="toolbar">
    <div class="toolbar-left">
      <div class="btn-group">
        <button class="btn btn-sm" id="btnClear" title="Bersihkan editor">
          <i class="fas fa-eraser"></i> Clear
        </button>
        <button class="btn btn-sm" id="btnCopy" title="Salin kode">
          <i class="fas fa-copy"></i> Copy
        </button>
        <button class="btn btn-sm" id="btnPaste" title="Tempel kode">
          <i class="fas fa-paste"></i> Paste
        </button>
        <button class="btn btn-sm" id="btnFind" title="Cari dan ganti (Ctrl+F)">
        <i class="fas fa-search"></i>
        Find
        </button>
      </div>
    </div>
    
    <div class="toolbar-right">

        <button class="btn btn-sm" id="btnInjectScript" title="Run a script">
        <i class="fas fa-play"></i>
        Run
        </button>

      <!--button class="btn btn-sm btn-success" id="btnSave" title="Simpan kode">
        <i class="fas fa-save"></i>
        Save
      </button-->

    </div>

  </div>

  <!-- PREVIEW OVERLAY (FULLSCREEN) -->
  <div class="preview-overlay" id="previewOverlay">

<div class="inject-panel">
  <textarea id="injectArea" placeholder="Inject script"></textarea>
  <button class="btn btn-sm btn-warning" id="btnInjectRun">
    <i class="fas fa-play-circle"></i>
  </button>
</div>

    <div class="preview-content" id="previewContent"></div>
      <button class="preview-close" id="previewClose" title="Keluar dari preview">
        &times;
      </button>

  </div>


  <!-- STATUS MESSAGE -->
      <div class="status" id="statusMessage"></div>
   </div>



<!-- PROJECTS MODAL -->
    <div id="projectsModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2><i class="fas fa-folder"></i> Manajemen Project</h2>
                <button class="modal-close" onclick="hideProjectsModal()">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="projects-toolbar">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="projectSearch" placeholder="Cari project..." oninput="filterProjects()">
                    </div>
                    <button class="btn btn-primary" onclick="createNewProject()">
                        <i class="fas fa-plus"></i> Project Baru
                    </button>
                </div>
                
                <div class="projects-grid" id="projectsGrid">
                    <!-- Daftar project akan diisi di sini -->
                </div>
                
                <div class="projects-stats">
                    <p>Total: <span id="projectCount">0</span> project</p>
                    <p>Terakhir dimodifikasi: <span id="lastModified">-</span></p>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="exportAllProjects()">
                    <i class="fas fa-download"></i> Export Semua
                </button>
                <button class="btn btn-secondary" onclick="importProjects()">
                    <i class="fas fa-upload"></i> Import
                </button>
                <button class="btn btn-danger" onclick="clearAllProjects()">
                    <i class="fas fa-trash"></i> Hapus Semua
                </button>
            </div>
        </div>
    </div>


  <!-- FIND PANEL -->
  <div class="find-panel" id="findPanel">
    <div class="find-header">
      <div class="find-title">Cari & Ganti</div>
      <button class="find-close" id="findClose">&times;</button>
    </div>
    
    <div class="find-input-group">
      <input type="text" class="find-input" id="findInput" placeholder="Cari..">
      <input type="text" class="find-input" id="replaceInput" placeholder="Ganti..">
    </div>
    
    <div class="find-buttons">
      <button class="btn btn-sm" id="btnFindNext">
        <i class="fas fa-arrow-down"></i>
        Selanjutnya
      </button>
      <button class="btn btn-sm" id="btnReplace">
        <i class="fas fa-exchange-alt"></i>
        Ganti
      </button>
      <button class="btn btn-sm btn-primary" id="btnReplaceAll">
        <i class="fas fa-sync-alt"></i>
        Ganti Semua
      </button>
    </div>
  </div>


<script id="app" src="js/app.js"></script>

</body>
  </html>
